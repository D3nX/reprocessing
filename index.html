<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/codemirror.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/codemirror.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/theme/monokai.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/mode/mllike/mllike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.15.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.12/clipboard.min.js"></script>
    <link rel="stylesheet" type="text/css" href="theme.css">
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
   crossorigin="anonymous"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.3.2/gl-matrix-min.js"></script>
   <title>OCaml to Javascript transpiler playground</title>
</head>

<body style="background-color: #272822; font-family: 'Open Sans', sans-serif;">

<nav class="navbar navbar-inverse navbar-static-top" style="margin-bottom: 0px">
  <div class="container-fluid">
    <div class="collapse navbar-collapse navbar-header"> <!-- Hides brand on small width -->
      <div class="navbar-brand" style="color: white"><a href="https://github.com/bloomberg/bucklescript" target="_blank">BuckleScript on GitHub</a></div>
    </div>

    <div>
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="#" id = "examplesLabel" class="dropdown-toggle" data-toggle="dropdown">Default_Example<span class="caret"></span></a>
          <ul id="examplesDropdown" class="dropdown-menu">
          </ul>
        </li>
        <li><button class="btn navbar-btn navbar-button" data-loading-text="Getting link..."type="button" id="share">Share</button></li>
        <li><button class="btn navbar-btn navbar-button" onclick="onEditChanges()">Compile</button></li>
      </ul>

      <div class="checkbox navbar-btn navbar-right">
        <!-- <label class="navbar&#45;link repl&#45;toolbar" > -->
        <!--   <input type="checkbox" id="option&#45;non&#45;export" checked> -->
        <!--   Remove unused code -->
        <!-- </label> -->
        <!-- <label class="navbar&#45;link repl&#45;toolbar"> -->
        <!--   <input type="checkbox" id="option&#45;eval" checked> -->
        <!--   Eval -->
        <!-- </label> -->
      </div>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<div id="shareModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Share</h4>
        <h4 class="modal-title" onclick="onEditChanges()">Compile</h4>
      </div>
      <div class="modal-body">
        <div class = "row">
          <div class = "col-sm-10" id="shareModalBody">
          </div>
          <div class="col-sm-2">
           <button class="btn" id="copyButton" data-clipboard-target="#shareModalBody">
            <span class="glyphicon glyphicon-copy"  id="copyGlyph" aria-hidden="true"></span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
</div>


<div style="height: 10000px">

  <div class="tab-full">
    <div class="tab" style="width: 50%">
    <h3>Reason</h2>
    </div>
    <div class="tab" style="width: 25%">
      <h3>Console</h2>
    </div>
  </div>

    <div class = "right-border" style="width: 50%;float:left">
        <textarea id="ocamlcode#1">
open Reprocessing;

open P;

open PUtils;

type state = {squarePos: (int, int)};

let squareWidth = 300;

let squareHeight = 300;

let setup env => {
  size 600 600 env;
  fill (color 255 0 0) env;
  strokeWeight 2 env;
  {squarePos: (0, 0)}
};

let draw state env => {
  background (color 150 255 255) env;
  let (sx, sy) = state.squarePos;
  let (px, py) = pmouse env;
  let (x, y) as squarePos =
    if (mousePressed env && px > sx && px < sx + squareHeight && py > sy && py < sy + squareWidth) {
      let (mx, my) = mouse env;
      let dx = mx - px;
      let dy = my - py;
      (sx + dx, sy + dy)
    } else {
      state.squarePos
    };
  rect x y squareWidth squareHeight env;
  {...state, squarePos}
};

ReProcessor.run ::setup ::draw ();
        </textarea>
    </div>
    <div style="width: 50%; float:right">
        <textarea id="error" style="background-color: #e0e0e0">

        </textarea>
    </div>
    <div style="width: 50%; float:right">
        <textarea id="output" style="background-color: #e0e0e0">

        </textarea>
    </div>

    <div style="width: 50%;float:right" id="canvas-wrapper">
       <canvas id="main-canvas" />
        <textarea id="jscode#1" style="background-color: #008803">
</textarea>
    </div>
</div>
<!--<p> can you  see me</p>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.22/require.js"></script>
<script src="./docs-assets/refmt.js" ></script>
<script src="./docs-assets/edit.js" ></script>

<script src="./docs-assets/exports.js">    </script>
<script src="./docs-assets/pre_load.js"></script>
<!-- <script src="./require.js"></script> -->
<script src="./docs-assets/init.js"></script>
</body>
